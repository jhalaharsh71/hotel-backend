<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Mailer
    |--------------------------------------------------------------------------
    |
    | We force Brevo API as the default mailer.
    | This is the most reliable option on Railway.
    |
    */

    'default' => env('MAIL_MAILER', 'brevo'),

    /*
    |--------------------------------------------------------------------------
    | Mailer Configurations
    |--------------------------------------------------------------------------
    */

    'mailers' => [

        /*
        |--------------------------------------------------------------------------
        | Brevo API Mailer (PRIMARY)
        |--------------------------------------------------------------------------
        |
        | Requires symfony/brevo-mailer
        | Uses MAILER_DSN from environment variables
        |
        */

        'brevo' => [
            'transport' => 'brevo',
        ],

        /*
        |--------------------------------------------------------------------------
        | Log Mailer (Fallback / Debug)
        |--------------------------------------------------------------------------
        */

        'log' => [
            'transport' => 'log',
            'channel' => env('MAIL_LOG_CHANNEL'),
        ],

        /*
        |--------------------------------------------------------------------------
        | Array Mailer (Testing only)
        |--------------------------------------------------------------------------
        */

        'array' => [
            'transport' => 'array',
        ],

        /*
        |--------------------------------------------------------------------------
        | Failover Mailer
        |--------------------------------------------------------------------------
        |
        | If Brevo fails, logs the email instead of crashing.
        |
        */

        'failover' => [
            'transport' => 'failover',
            'mailers' => ['brevo', 'log'],
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Global "From" Address
    |--------------------------------------------------------------------------
    */

    'from' => [
        'address' => env('MAIL_FROM_ADDRESS', 'no-reply@example.com'),
        'name' => env('MAIL_FROM_NAME', 'Hotel Demo App'),
    ],

];
